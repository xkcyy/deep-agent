# 提示词模板管理 - 需求说明

## 目标与范围
- 目标：管理系统/工具/自定义提示词模板，支持选择、预览与热更新。
- 范围：模板增改删、变量占位、预览、对话选择与合成结果展示。

## 用户故事
- 作为用户，我能管理模板并在对话前选择合适的模板。
- 作为用户，我能在发送前查看最终合成的提示，确保上下文正确。

## 主流程
1. 设置页列出模板（类型、名称、描述、占位符说明）。
2. 支持新增/编辑/删除，填写变量占位示例；保存后立即可用（热更新）。
3. 对话输入框选择模板，发送前可展开查看合成后的提示。
4. 若模板被删除且当前会话正在使用，提示影响并要求更换。

## 关键交互
- 模板列表支持搜索与类型筛选（系统/工具/自定义）。
- 预览面板展示替换后的完整提示；可复制。
- 删除操作需确认，提示引用影响。

## 边界与异常
- 占位符缺失值时，发送前阻断并提示需要补全。
- 模板解析失败给出错误原因；可恢复到上一个有效版本（若有）。

## 非功能
- 列表加载 < 1s；预览渲染 < 300ms。
- 热更新：保存后新模板立即可被选择，无需刷新页面。

## 依赖
- 模板存储服务；提示合成引擎；对话编排读取当前模板。

## 验收标准
- 模板可增改删、搜索筛选；占位符校验有效。
- 对话前可选择并查看合成结果；删除模板时引用提示清晰。

