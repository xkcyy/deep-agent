# 模型配置与切换 - 需求说明

## 目标与范围
- 目标：允许用户管理与切换多个模型配置，并在对话中清晰标注使用的模型。
- 范围：模型列表管理、选择与标注、异常提示与跳转设置。

## 用户故事
- 作为用户，我能新增/编辑/删除模型配置，并选择默认模型。
- 作为用户，我在对话中可随时切换模型，并看到当前消息使用的模型。

## 主流程
1. 设置页展示模型列表（名称、URL、Key 掩码、默认标记）。
2. 支持新增/编辑/删除；保存时校验必填项并测试连通性（可选）。
3. 对话输入框下拉选择模型；当前选择显示在输入框旁和发送后气泡内。
4. 调用失败（超时/401）时，弹出提示并提供“去设置”快捷入口。

## 关键交互
- 默认模型单选标记；切换默认需确认。
- Key 显示为掩码，可点击“显示/隐藏”；编辑保存后提示“已更新”。
- 下拉列表显示模型名与标签（默认/不可用）。

## 边界与异常
- 删除当前使用的模型需确认并回退到默认模型。
- 连通性测试失败仍可保存，但提示“调用可能失败”。
- 未配置模型时，输入框提示“请先添加模型”，并跳转设置。

## 非功能
- 模型列表加载 < 1s；选择/保存反馈 < 300ms。
- 调用超时默认 < 10s，可配置。

## 依赖
- 模型配置存储服务；调用连通性检测；对话编排引用当前模型。

## 验收标准
- 模型可增改删，默认模型标记正确；下拉可切换并在消息中标注。
- 调用失败时提示清晰且能跳转设置；删除当前模型后自动回退。

