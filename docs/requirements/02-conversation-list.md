# 会话列表与历史折叠 - 需求说明

## 目标与范围
- 目标：提供高效的会话浏览与切换，支持时间分组折叠、搜索/筛选、分页加载。
- 范围：会话列表 UI、分组与折叠、搜索/筛选、加载更多、删除/重命名、切换联动。

## 用户故事
- 作为用户，我能快速找到最近会话，也能按关键词或标签查找历史会话。
- 作为用户，我切换会话时，对话区与主窗口同步更新。

## 主流程
1. 进入主界面，列表按时间分组（今日/本周/更早）展示。
2. 远期分组默认折叠，点击展开；底部“加载更多”分页拉取。
3. 搜索/筛选（关键词、标签、模型）即时更新列表。
4. 点击会话项：高亮当前，加载对应消息流与主窗口状态。
5. 悬停可见摘要/时间；右键或菜单进行删除/重命名，需确认。

## 关键交互
- 分组标题点击折叠/展开；折叠时显示会话数量。
- “加载更多”按钮 loading 状态，失败提示可重试。
- 删除确认弹窗，重命名内联编辑并回车保存/ESC 取消。

## 边界与异常
- 搜索无结果显示空状态与“清除筛选”入口。
- 删除当前会话时，自动切换到最近一条会话。
- 分页失败保留已加载内容，提示重试。

## 非功能
- 列表首屏渲染 < 1s；分页请求 < 1s。
- 搜索/筛选交互延迟 < 200ms（前端过滤）或 < 1s（后端过滤）。

## 依赖
- 会话服务（列表、搜索、更新）；标签/模型元数据。

## 验收标准
- 时间分组与折叠行为正确；分页“加载更多”可用且不会重复。
- 搜索/筛选返回正确结果；清除后恢复完整列表。
- 删除/重命名成功后列表与当前选中状态正确同步。

