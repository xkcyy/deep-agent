# 登录与初始加载 - 需求说明

## 目标与范围
- 目标：用户通过账号/密码登录后进入主界面，自动拉取基础配置与数据，若失败提供可用的降级路径。
- 范围：登录页、登录态存续、首屏配置/数据拉取、错误与重试、跳过配置加载的降级。

## 用户故事
- 作为用户，我要登录后立即使用助手，若配置拉取失败仍能进入主界面。
- 作为用户，我希望看到明确的失败原因，并可重试。

## 主流程（WEB）
1. 打开登录页，输入账号/密码。
2. 点击“登录”→调用登录 API，成功后写入登录态。
3. 跳转主界面，并行拉取：模型/提示词/工具配置、最近会话列表、资源树根节点。
4. 成功则进入正常可用状态；若部分失败，提示错误并提供“重试/跳过配置”。

## 关键交互
- 登录按钮 loading 状态；失败在表单下方红色错误文案。
- 主界面加载中显示骨架屏；配置拉取失败时顶部浮条提示，含“重试/跳过”按钮。
- 跳过后允许进入主界面，但相关模块标记“配置未加载”并可随时重试。

## 边界与异常
- 登录 401/403：提示“账号或密码错误”；其他错误提示“服务不可用，请重试”。
- 配置接口部分成功：展示已成功部分，失败部分提供单独重试。
- 登录态失效：全局拦截器跳转登录页并提示。

## 非功能
- 登录 API 超时 < 3s；配置批量拉取总时长 < 5s。
- 错误提示在 200ms 内渲染；跳过后主界面可交互。

## 依赖
- 鉴权服务；配置服务（模型/提示词/工具）；会话服务；资源索引服务。

## 验收标准
- 成功登录进入主界面，配置与数据加载成功且可用。
- 任一配置失败时，用户可选择重试或跳过，跳过后主界面可正常对话。
- 登录态失效时自动跳转登录页，提示清晰。


