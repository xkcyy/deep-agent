# 迭代计划

## Iteration 1 — Workspace & Access Foundation
- 对应流程阶段/泳道：工作台首页 → 数据源与索引配置。
- 范围包含：空间创建/选择、基础身份与授权接入、数据源接入向导（本地/网盘占位）、权限与可见性规则、审计日志框架。
- 范围不包含：索引优化、虚拟文件系统树展示、执行相关能力。
- 进入条件（DoD Entry）：组织账号/受邀用户可登录；有至少一种受支持的数据源凭据。
- 退出条件（DoD Exit）：用户可创建空间并成功接入至少一个数据源；权限/审计日志可记录增删改配置；错误提示可读。
- 关键用户场景：新用户创建空间并接入首个数据源；管理员调整可见范围；用户查看接入失败原因。
- 依赖：组织/单点登录能力；数据源权限申请渠道。
- 风险与缓解：权限模型与数据源规则不一致 → 先以最小权限/只读模式落地；接入失败链路复杂 → 预置故障排查指引与可重试。
- 里程碑/指标：接入成功率（≥85% 的首源接入成功）；首屏加载 ≤2s；接入流程平均时长（目标 <3 分钟）。

## Iteration 2 — Virtual FS & Indexing Readiness
- 对应流程阶段/泳道：数据源与索引配置 → 虚拟文件系统浏览。
- 范围包含：索引任务创建与进度展示、虚拟文件系统树/路径视图、文件元信息与访问告警、基础检索与高亮预览。
- 范围不包含：跨文件推理、执行与结果复用。
- 进入条件：至少有一处已授权的数据源，索引任务可触发。
- 退出条件：用户可看到虚拟文件系统视图与元信息；索引任务状态可追踪；基础检索可返回命中文档并带来源路径。
- 关键用户场景：启动首次索引并查看进度；浏览虚拟文件树并预览；检索关键词并定位到文档片段。
- 依赖：Iteration 1 的数据源与权限；存储与检索基础服务。
- 风险与缓解：索引耗时与容量不可控 → 提供分批/增量与限流；敏感路径暴露 → 默认屏蔽列表与管理员白名单。
- 里程碑/指标：索引进度可视化准确度；检索首条结果时间（目标 ≤2s）；虚拟文件树加载时间（目标 ≤2s）。

## Iteration 3 — Task Brief & Plan Preview
- 对应流程阶段/泳道：虚拟文件系统浏览 → 智能体任务面板 → 计划预览/确认。
- 范围包含：任务表单（目标、上下文选择、期望输出）、计划预览（步骤级目标与所需上下文）、成功标准占位、风险提示。
- 范围不包含：实际执行、自动保存复用。
- 进入条件：用户已选择或搜索到所需上下文。
- 退出条件：用户可提交任务并获得可读的计划预览，包含步骤/输入/输出预期；计划可导出或保存草稿；失败路径可解释。
- 关键用户场景：选择虚拟文件路径后提交任务获取计划；编辑成功标准并重新生成计划；查看计划风险提示后调整范围。
- 依赖：Iteration 2 的虚拟文件系统与检索；计划生成与呈现服务。
- 风险与缓解：计划过细或过粗 → 允许用户调节粒度；生成结果不可控 → 强制呈现上下文引用与假设。
- 里程碑/指标：计划可读性满意度（用户调查 ≥80% 满意）；计划生成时间（目标 ≤5s）；含上下文引用的步骤占比（≥90%）。

## Iteration 4 — Execution & Monitoring Controls
- 对应流程阶段/泳道：计划预览/确认 → 执行监控与日志。
- 范围包含：按计划的分步执行、进度条与阶段状态、人工审批/暂停/终止/回退、日志与溯源（含上下文引用）、异常恢复指引。
- 范围不包含：多任务并发调度优化、结果复用模板。
- 进入条件：已确认的任务计划。
- 退出条件：用户可启动执行并在任一步骤中查看上下文与动作记录；可进行暂停/终止/回退；执行审计可导出。
- 关键用户场景：启动执行并查看实时进度；在敏感步骤发起审批；执行失败后回退并重试。
- 依赖：Iteration 3 的计划结构；执行引擎与日志存储。
- 风险与缓解：长耗时步骤影响体验 → 提供阶段性输出与心跳；审批遗漏 → 默认敏感操作需审批、超时自动挂起。
- 里程碑/指标：执行成功率；中断后可恢复的任务占比；日志可追溯性（步骤均含上下文与结果链接）。

## Iteration 5 — Outcomes & Reuse
- 对应流程阶段/泳道：执行监控与日志 → 成果与复用中心。
- 范围包含：成果归档（文本/附件链接）、结果分享与下载、任务模板化与再次调用、指标面板（转化率/完成率）、基础反馈收集。
- 范围不包含：跨空间共享策略、自动化 A/B 比较。
- 进入条件：至少一次执行完成并生成输出。
- 退出条件：用户可查看并下载/分享成果；可将任务保存为模板并在同一空间复用；基础指标可查看。
- 关键用户场景：查看执行成果并分享给团队；将高频任务保存模板并再次运行；根据指标评估效果。
- 依赖：Iteration 4 的执行日志与产出；存储与分享机制。
- 风险与缓解：成果权限泄露 → 遵循空间可见性、支持过期链接；模板陈旧 → 提示依赖上下文版本。
- 里程碑/指标：成果可用率（下载/查看成功率）；模板复用率；分享链接访问成功率。

# Specify 队列

1) `/speckit.specify` 草稿  
   - 短名：workspace-access-foundation  
   - 描述：交付空间创建/选择、基础授权与数据源接入向导，确保有审计记录与可视化错误提示。  
   - 成功标准骨架：新用户 3 分钟内完成首个数据源接入；接入失败原因可见并可重试；审计日志覆盖接入配置变更。  
   - 澄清提示：无新增，沿用史诗澄清#1、#2。  

2) `/speckit.specify` 草稿  
   - 短名：vfs-and-indexing-readiness  
   - 描述：提供索引任务管理、虚拟文件系统树/路径视图与基础检索预览，支持元信息与敏感路径提示。  
   - 成功标准骨架：首屏虚拟文件树加载 ≤2s；检索返回含路径与摘要的结果；索引进度与失败原因可视化。  
   - 澄清提示：无新增，沿用史诗澄清#1、#2。  

3) `/speckit.specify` 草稿  
   - 短名：task-brief-and-plan-preview  
   - 描述：让用户基于选定上下文提交任务并获得可读计划，包含步骤、输入/输出预期与可编辑成功标准。  
   - 成功标准骨架：计划生成 ≤5s；步骤均标注所需上下文；用户可调整成功标准并重新生成计划。  
   - 澄清提示：无新增，沿用史诗澄清#1、#2。  

4) `/speckit.specify` 草稿  
   - 短名：execution-and-monitoring-controls  
   - 描述：按计划分步执行，支持审批/暂停/终止/回退，提供上下文关联日志与异常恢复指引。  
   - 成功标准骨架：执行步骤日志可追溯；敏感步骤默认需要审批；中断后可继续或回退；失败可给出可执行的恢复建议。  
   - 澄清提示：无新增，沿用史诗澄清#1、#2。  

5) `/speckit.specify` 草稿  
   - 短名：outcomes-and-reuse  
   - 描述：归档执行成果，支持下载/分享与模板化复用，并提供基础指标面板与反馈收集。  
   - 成功标准骨架：成果可在同一空间安全访问；模板复用可直接拉起任务；指标可展示完成率与分享访问率。  
   - 澄清提示：无新增，沿用史诗澄清#1、#2。  

